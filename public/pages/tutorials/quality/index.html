<!DOCTYPE html>
<html lang="en">


    <head>

        <title>DataVisualisations</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/a11y-dark.min.css" integrity="sha512-1rzCaYWsg3l6uKvGbUT6rAZFOcVn0zeXAFlZudsnj8k2xcrU5asL8jfJUEijV9GPYMh0GnPToeCTJj6RXQnA8g==" crossorigin="anonymous" />
        <link rel="stylesheet" href="../../../css/colors.css" type="text/css">
        <link rel="stylesheet" href="../../../css/main.css" type="text/css">

        <script src="https://kit.fontawesome.com/4ebb081c7a.js" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" defer integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" defer integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/highlight.min.js" integrity="sha512-d00ajEME7cZhepRqSIVsQVGDJBdZlfHyQLNC6tZXYKTG7iwcF8nhlFuppanz8hYgXr8VvlfKh4gLC25ud3c90A==" crossorigin="anonymous"></script>
        <script>window.hljs.highlightAll();</script>
    </head>




    <body>

        <!-- nav bar start  -->


        <nav class="navbar navbar-expand-lg ml-auto navbar-dark bg-primary">

            <a class="navbar-brand" href="/">
                <img src="../../../image/logo.svg" width="30" height="30" class="d-inline-block align-top" alt="logo">
                DataVisualisations
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse " id="navbarNavDropdown">
                <ul class="navbar-nav ml-auto">

                    <li class="nav-item">
                        <a class="nav-link" href="../../../pages/visualizations/earthquake/">Earthquake Data</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="../../../pages/visualizations/exchange/">Exchange Rate</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="../../../pages/visualizations/iss/">ISS Track</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="../../../pages/visualizations/marketcap/">Coin Race</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="../../../pages/visualizations/quality/">Life Quality</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="../../../pages/visualizations/weather/">Weather Data</a>
                    </li>


                    <li class="nav-item dropdown active">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Tutorials
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="../../../pages/tutorials/earthquake/">Earthquake Data Tutorial</a>
                            <a class="dropdown-item" href="../../../pages/tutorials/exchange/">Exchange Rate Tutorial</a>
                            <a class="dropdown-item" href="../../../pages/tutorials/iss/">ISS Track Tutorial</a>
                            <a class="dropdown-item" href="../../../pages/tutorials/marketcap/">Coin Race Tutorial</a>
                            <a class="dropdown-item" href="../../../pages/tutorials/quality/">Life Quality Tutorial</a>
                            <a class="dropdown-item" href="../../../pages/tutorials/weather/">Weather Data Tutorial</a>
                        </div>
                    </li>
                </ul>


            </div>


        </nav>

        <!-- nav bar end  -->





        <div class="container-fluid layout-container-fluid rounded"> <!-- layout-container-fluid -->


            <div class="row no-gutters">  <!-- Row 1  -->


                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"> <!-- col 1  -->

                    <div class="content-container-fluid">
                        <div class="card text-white bg-primary">
                            <div class="card-header"><i class="fas fa-graduation-cap"></i> Tutorial for the te;eport city quality API</div>
                            <div class="card-body">






                                <!-- Page content start  -->

                                <div class="container-fluid">

                                    <div class="row no-gutters">  <!-- Row   -->


                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"> <!-- col   -->

                                            <div class="container-fluid">


                                                <h5 class="card-title">Tutorial Sections</h5>

                                                <ol>
                                                    <li>City Selection</li>
                                                    <li>Getting Data From the API</li>
                                                    <li>Displaying in the visualisation</li>
                                                    <li>Further reading links</li>
                                                </ol>


                                            </div>

                                        </div>  <!-- col 1  -->


                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"> <!-- col 2  -->

                                            <div class="container-fluid">

                                                <img src="./image.png" class="rounded w-100" alt="Computer code">


                                            </div>

                                        </div> <!-- col 2  -->


                                    </div> <!-- Row   -->

                                </div>









                                <div class="divider my-4"></div>



                                <h5 class="card-title"><i class="fas fa-wrench"></i> City Selection</h5>

                                <p class="card-text">
                                    In order to properly utilise the teleport API we must select a city,
                                    to do this we will use a deop down menu to allow the user to select one.
                                    Here is the html code for this drop down menu with six example cities.
                                </p>

                                <pre><code class="html">
                                    &lt;select id="cityDropDown" &gt;
                                        &lt;option value="amsterdam" selected&gt;Amsterdam&lt;/option&gt;
                                        &lt;option value="philadelphia"&gt;Philadelphia&lt;/option&gt;
                                        &lt;option value="phoenix"&gt;Phoenix&lt;/option&gt;
                                        &lt;option value="prague"&gt;Prague&lt;/option&gt;
                                        &lt;option value="quebec"&gt;Quebec&lt;/option&gt;
                                        &lt;option value="tokyo"&gt;Tokyo&lt;/option&gt;
                                    &lt;/select&gt;
                                </code></pre>

                                <p class="card-text">
                                    we need to make our javascript run whenever the dropdown selection changes,
                                    We can then pull this data from the html using javascript
                                </p>

                                <pre><code class="javascript">
                                    //making our code execute on a selection change 
                                    document.getElementById('cityDropDown').addEventListener('change',runJavascript)

                                    //pulling the data from the selection
                                    var citySelection = document.getElementById("cityDropDown");
                                    var citySlug = citySelection.value;
                                    var cityName = citySelection.options[citySelection.selectedIndex].text;
                                </code></pre>

                                <div class="divider my-4"></div>





                                <h5 class="card-title"><i class="fas fa-cloud-download-alt"></i> Getting Data From the API</h5>

                                <p class="card-text">
                                    Now that we have selected a city we need to do something with it,
                                    we use the cities "citySlug" in our api request to get data about it.
                                    Here is the javascript for that
                                </p>

                                <pre><code class="javascript">
                                    const url = `https://api.teleport.org/api/urban_areas/slug:${citySlug}/scores/`
                                    const response = await fetch(url)
                                    const data = await response.json() 
                                </code></pre>

                                <div class="divider my-4"></div>






                                <h5 class="card-title"><i class="fas fa-desktop"></i> Displaying in the visualisation</h5>

                                <p class="card-text">
                                    Firstly we must have a place to put our visualisation, which is easy we just use a basic div tag.
                                    So here is our html chart container
                                </p>

                                <pre><code class="html">
                                    &lt;div id="chartContainer" style="height: 500px; width: 100%;"&gt;&lt;/div&gt;
                                </code></pre>

                                <p class="card-text">
                                    We then Have to put our data in a chart, for this we are using canvasjs for this.
                                    we initialise a new canvasjs chart, all the static values are set at this stage
                                    except the title which is set as cityName that we pulled from the select earlier.

                                    we then add extra datapoints for each unique quality category about the city. 
                                </p>

                                <pre><code class="javascript">
                                    //creating the chart
                                    var chart = new CanvasJS.Chart("chartContainer", {
                                        animationEnabled: true,
                                        theme: "light1", 
                                        title:{
                                            text: cityName
                                        },
                                        axisY: {
                                            title: "Score Out Of Ten",
                                            maximum: 10
                                        },
                                        data: [{        
                                            type: "column",  
                                            showInLegend: true, 
                                            legendMarkerColor: "grey",
                                            legendText: "City Attributes",
                                            dataPoints: [      
                                            ]
                                        }]
                                        });
                                        
                                        //adding a data point to the chart for each category 
                                        data.categories.forEach(category => {
                                            chart.options.data[0].dataPoints.push(
                                                { 
                                                    y: category.score_out_of_10,
                                                    label: category.name,
                                                    color: category.color
                                                })
                                        });
                                    
                                        chart.render();
                                </code></pre>

                                <div class="divider my-4"></div>






                                <h5 class="card-title"><i class="fas fa-book-reader"></i> Further Reading links</h5>

                                <ul>
                                    <li><a href="https://developers.teleport.org/api/" target="_blank" class="text-decoration-none font-weight-bold text-white"><i class="fas fa-link"></i>Teleport API Docs</a></li>
                                    <li><a href="https://canvasjs.com/javascript-charts/json-data-api-ajax-chart/" target="_blank" class="text-decoration-none font-weight-bold text-white"><i class="fas fa-link"></i>CanvasJs Library Docs</a></li>
                                    <li><a href="https://developers.teleport.org/showcase/" target="_blank" class="text-decoration-none font-weight-bold text-white"><i class="fas fa-link"></i>Similar Projects</a></li>
                                </ul>

                                <div class="divider my-4"></div>




                                <!-- Page content end  -->


                            </div>
                        </div>
                    </div>

                </div> <!-- col 1  -->


            </div> <!-- Row 1  -->





        </div> <!-- layout-container-fluid  -->




    </body>


</html>