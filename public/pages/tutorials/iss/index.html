<!DOCTYPE html>
<html lang="en">


<head>

    <title>DataVisualisations</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
        integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/a11y-dark.min.css"
        integrity="sha512-1rzCaYWsg3l6uKvGbUT6rAZFOcVn0zeXAFlZudsnj8k2xcrU5asL8jfJUEijV9GPYMh0GnPToeCTJj6RXQnA8g=="
        crossorigin="anonymous" />
    <link rel="stylesheet" href="../../../css/colors.css" type="text/css">
    <link rel="stylesheet" href="../../../css/main.css" type="text/css">

    <script src="https://kit.fontawesome.com/4ebb081c7a.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" defer
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" defer
        integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/highlight.min.js"
        integrity="sha512-d00ajEME7cZhepRqSIVsQVGDJBdZlfHyQLNC6tZXYKTG7iwcF8nhlFuppanz8hYgXr8VvlfKh4gLC25ud3c90A=="
        crossorigin="anonymous"></script>
    <script>window.hljs.highlightAll();</script>
</head>

<body>

    <!-- nav bar start  -->
    <nav class="navbar navbar-expand-lg ml-auto navbar-dark bg-primary">

        <a class="navbar-brand" href="/">
            <img src="../../../image/logo.svg" width="30" height="30" class="d-inline-block align-top" alt="logo">
            DataVisualisations
        </a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse " id="navbarNavDropdown">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="./">Home </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="../../../pages/visualizations/earthquake/">earthquake</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="../../../pages/visualizations/exchange/">exchange</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="../../../pages/visualizations/iss/">iss</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="../../../pages/visualizations/marketcap/">marketcap </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="../../../pages/visualizations/quality/">quality</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="../../../pages/visualizations/weather/">weather</a>
                </li>


                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        Tutorials
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="../../../pages/tutorials/earthquake/">earthquake tutorial</a>
                        <a class="dropdown-item" href="../../../pages/tutorials/exchange/">exchange tutorial</a>
                        <a class="dropdown-item" href="../../../pages/tutorials/iss/">iss tutorial</a>
                        <a class="dropdown-item" href="../../../pages/tutorials/marketcap/">marketcap tutorial</a>
                        <a class="dropdown-item" href="../../../pages/tutorials/quality/">quality tutorial</a>
                        <a class="dropdown-item" href="../../../pages/tutorials/weather/">weather tutorial</a>
                    </div>
                </li>
            </ul>


        </div>


    </nav>

    <!-- nav bar end  -->



    <div class="container-fluid layout-container-fluid rounded">
        <!-- layout-container-fluid -->


        <div class="row no-gutters">
            <!-- Row 1  -->

            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <!-- col 1  -->

                <div class="content-container-fluid">
                    <div class="card text-white bg-primary">
                        <div class="card-header"><i class="fas fa-graduation-cap"></i> Tutorial for ISS Tracker</div>
                        <div class="card-body">

                            <!-- Page content start  -->
                            <div class="container-fluid">

                                <div class="row no-gutters">
                                    <!-- Row   -->

                                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                        <!-- col   -->

                                        <div class="container-fluid">


                                            <h5 class="card-title">Tutorial Sections</h5>

                                            <ol>
                                                <li> Intialise Map and Icon</li>
                                                <li> Setup Zoom Controls</li>
                                                <li> Fetch and Display Data</li>
                                                <li>Further reading links</li>
                                            </ol>

                                        </div>

                                    </div> <!-- col 1  -->

                                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                        <!-- col 2  -->

                                        <div class="container-fluid">

                                            <img src="./image.png" class="rounded w-100" alt="Computer code">

                                        </div>

                                    </div> <!-- col 2  -->


                                </div> <!-- Row   -->

                            </div>

                            <div class="divider my-4"></div>

                            <h5 class="card-title"><i class="fas fa-cloud-download-alt"></i> Intialise Map and Icon</h5>

                            <p class="card-text">
                                The first step in re-creating the ISS Tracker example is to load the LeafletJs library
                                by linking the script within a script tag. <br>
                                <br>
                                After this create a map object and instatiate the three required attributes (latitude,
                                longitude and default zoom level) and declare this as a const
                                with using an L prefix to allow access the methods now available to u from LeafletJs.
                                <br>
                                <br>
                                At this point we have an empty map container, for techinal reasons beyond the scope of
                                this tutorial Leaflet and many other mapping tools import sections of map as tiles or
                                small sections of maps, this example will be using the tiles from OpenStreetMap
                                availaible
                                under the open commons licence, then add the returned layer to the map. <br>
                                <br>
                                You can declare an new icon with the same attributes below linking image you wish to use
                                in the icon Url attribute. This can new icon can now be added as marker to the Leaflet
                                map
                                with postion set to [0, 0] to centre the marker.
                            </p>

                            <pre><code class="javascript">
                                <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
                                integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
                                crossorigin=""></script>

                                const mymap = L.map('issMap').setView([0, 0], 1);
                                const attribution =
                                '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';
                                const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
                                const tiles = L.tileLayer(tileUrl, { attribution });
                                tiles.addTo(mymap);

                                const issIcon = L.icon({
                                    iconUrl: 'ISS.png',
                                    iconSize: [50, 32],
                                    iconAnchor: [25, 16]
                                  });
                                  let marker = L.marker([0, 0], { icon: issIcon }).addTo(mymap);
                                </code></pre>

                            <div class="divider my-4"></div>

                            <h5 class="card-title"><i class="fas fa-wrench"></i> Setup Zoom Controls</h5>

                            <p class="card-text">
                                Now we have our map and icon in place we also want to make the visualisation more
                                interactive so we will use this segement of code to allow users to zoom in whilst
                                also automatically adjusting the icon.
                            </p>

                            <pre><code class="javascript">
                                mymap.on('zoomend', function () {
                                    const zoom = mymap.getZoom() + 1;
                                    const w = 50 * zoom;
                                    const h = 32 * zoom;
                                    issIcon.options.iconSize = [w, h];
                                    issIcon.options.iconAnchor = [w / 2, h / 2];
                                    mymap.removeLayer(marker);
                                    let latlng = marker.getLatLng();
                                    marker = L.marker([0, 0], { icon: issIcon }).addTo(mymap);
                                    marker.setLatLng(latlng);
                                  });
                                </code></pre>

                            <div class="divider my-4"></div>

                            <h5 class="card-title"><i class="fas fa-desktop"></i> Fetch and Display Data</h5>

                            <p class="card-text">
                                First declare the URL of the API providing the data as const.
                                <br>
                                <br>
                                Then declare a new boolean variable we will use to determin if its the users first time
                                loading the visualization,
                                this is important to prevent constantly overriding the users current zoom level with
                                that of the default map view.
                                <br>
                                <br>
                                Use getElement method of the document object to find the longtiude and latitude
                                paragraphs and set the text concent to the data returned from the api.
                                Finally use a set interval method to call getIss every second.
                            </p>

                            <pre><code class="javascript">
                                const api_url = 'https://api.wheretheiss.at/v1/satellites/25544';

                                let firstTime = true;
                            
                                async function getISS() {
                                  const response = await fetch(api_url);
                                  const data = await response.json();
                                  const { latitude, longitude } = data;
                            
                                  marker.setLatLng([latitude, longitude]);
                                  if (firstTime) {
                                    mymap.setView([latitude, longitude], 2);
                                    firstTime = false;
                                  }
                                  document.getElementById('lat').textContent = latitude.toFixed(2);
                                  document.getElementById('lon').textContent = longitude.toFixed(2);
                                }
                            
                                getISS();
                                setInterval(getISS, 1000);
                            }
                                </code></pre>

                            <div class="divider my-4"></div>

                            <h5 class="card-title"><i class="fas fa-book-reader"></i> Further Reading links</h5>

                            <ul>
                                <li><a href="https://leafletjs.com/examples/zoom-levels/" target="_blank"
                                        class="text-decoration-none font-weight-bold text-white"><i
                                            class="fas fa-link"></i>Leaflet Map Zoom Levels</a></li>
                                <li><a href="https://leafletjs.com" target="_blank"
                                        class="text-decoration-none font-weight-bold text-white"><i
                                            class="fas fa-link"></i>Leaflet Js</a></li>
                                <li><a href="https://wheretheiss.at/w/developer" target="_blank"
                                        class="text-decoration-none font-weight-bold text-white"><i
                                            class="fas fa-link"></i>ISS API</a></li>
                            </ul>

                            <div class="divider my-4"></div>




                            <!-- Page content end  -->


                        </div>
                    </div>
                </div>

            </div> <!-- col 1  -->


        </div> <!-- Row 1  -->





    </div> <!-- layout-container-fluid  -->




</body>


</html>